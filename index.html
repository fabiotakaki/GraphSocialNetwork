<!DOCTYPE html>
<html>
<head>
	<title>Grafos Aplicação Gráfica</title>
	<script type="text/javascript" src="js/cytoscape.min.js"></script>
  <script type="text/javascript" src="js/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="css/style.css">
  <meta charset="utf-8" />
</head>
<body>
<header>
  <h1>Rede Social</h1>
</header>
<div id="social-network">
  <h1>Seja bem-vindo(a) à rede social.</h1>

  <h2>Entrar</h2>
  <label>Usuário</label>
  <input type="text" name="user" id="user_sign-in">
  <button id="sign-in">Entrar</button>

  <h2>Cadastrar</h2>
  <label>Usuário</label>
  <input type="text" name="user" id="user_register">
  <button id="register">Cadastrar</button>

</div>
<div id="cy"></div>

<footer>
  Todos os direitos reservados. &copy; 2016 - Fábio S. Takaki, Arthur Pires e Lucas Martins.
</footer>
<script type="text/javascript">
  var cy = cytoscape({

  container: $('#cy'), // container to render in

  elements: [ // list of graph elements to start with
  ],

  style: [ // the stylesheet for the graph
    {
      selector: 'node',
      style: {
        'background-color': '#666',
        'label': 'data(id)'
      }
    },

    {
      selector: 'edge',
      style: {
        'width': 3,
        'line-color': '#ccc',
        'curve-style': 'bezier',
        'control-point-step-size': 40,
        'target-arrow-color': '#333',
        'target-arrow-shape': 'triangle-backcurve'
      }
    }
  ],

  layout: {
    name: 'grid',
    rows: 1
  }

});

  var x = 0;
  $("#register").click(function(){
    cy.add({
      group: "nodes",
      data: { id: $('#user_register').val() },
      position: { x: 200 + x, y: 200 + x },

    }); 
    x = x + 60;
  });

  var idUser;
  $('#sign-in').click(function(){
    var boolean = false;
    for(i=0; i<cy.nodes().size(); i++){ 
      if($('#user_sign-in').val() == cy.nodes()[i].data('id')){
        boolean = true;
        idUser = cy.nodes()[i].data('id');
      }
    }

    if(boolean){
      $('#social-network').load('algorithms.html');
    }else{
      alert('Esse usuário não existe');
    }
  });
  
</script>
</body>
</html>